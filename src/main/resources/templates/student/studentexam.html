<!DOCTYPE html>
<html lang="en" class="x-admin-sm" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
	<meta charset="UTF-8">
	<title>我要考试</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" th:href="@{/layuires/layui/css/layui.css}">
	<link rel="stylesheet" th:href="@{/layuires/static/css/mian.css}">
	<script th:src="@{/layuires/layui/layui.js}"></script>
	<script th:src="@{/layuires/static/js/}"></script>
	<script th:src="@{/js/jquery-3.4.1.js}"></script>
</head>
<body class="lay-blog">
		<div class="header">
			<div class="header-wrap">
				<h1 class="logo pull-left">
					<img th:src="@{/layuires/static/images/logo.png}" alt="" class="logo-img">
					<i style="color: white;font-size: 20px">学生考试系统</i>
				</h1>
				<div class="blog-nav pull-right">
					<ul class="layui-nav pull-left" id="menuUl">
						<li class='layui-nav-item' th:if="${session.student!=null &amp;&amp; session.student!=''}">
							<a href='javascript:;'>
								<i class='layui-icon layui-icon-username' style='font-size: 15px' id="sname"></i></a>
							<dl class='layui-nav-child'>
								<dd><a id="saccount"></a></dd>
								<!--<dd><a onclick="xadmin.open('个人资料','/myDetails');">个人资料</a></dd>-->
								<!--<dd><a onclick="xadmin.open('修改密码页面','/myPass');">修改密码</a></dd>-->
								<dd><a onclick="logout()">注销登录</a></dd>
							</dl>
						</li>
						<li class='layui-nav-item' th:if="${session.student==null || session.student==''}">
							<a href='/studentexam/tologin' style='font-size: 15px'>请登录！</a></dd>
						</li>
						<li class='layui-nav-item'><a href='/examscore/scoremain' style='font-size: 15px'>我要考试</a></li>
						<li class='layui-nav-item'><a href='#' style='font-size: 15px'>查看成绩</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="container-wrap">
			<div class="container">
				<div class="contar-wrap" style="width: 1000px;margin-left: -15%;">
					<div class="item" style="width: 1000px">
						<div class="item-box  layer-photos-demo1 layer-photos-demo">
							<form class="layui-form" action="" lay-filter="example">
								<div class="layui-form-item">
									<label class="layui-form-label-col" style="margin-left: 50px">1、输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框框</label>
									<label class="layui-form-label">答案：</label>
									<div class="layui-input-block">
										<input name="username" class="layui-input" type="text" placeholder="请输入答案" autocomplete="off" lay-verify="title">
									</div>
								</div>
								<div class="layui-form-item">
									<label class="layui-form-label-col" style="margin-left: 50px">2、输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框框</label>
									<label class="layui-form-label">答案：</label>
									<div class="layui-input-block">
										<input name="qid" title="A、这是A" type="radio" value="A、这是A" >
										<input name="qid" title="B、这是B" type="radio" value="B、这是B" >
										<input name="qid" title="C、这是C" type="radio" value="C、这是C" >
										<input name="qid" title="D、这是D" type="radio" value="D、这是D" >
									</div>
								</div>
								<div class="layui-form-item">
									<label class="layui-form-label-col" style="margin-left: 50px">3、输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框框</label>
									<label class="layui-form-label">答案：</label>
									<div class="layui-input-block">
										<input name="sex" title="对" type="radio" value="对">
										<input name="sex" title="错" type="radio" value="错">
									</div>
								</div>
								<div class="layui-form-item layui-form-text">
									<label class="layui-form-label-col" style="margin-left: 50px">3、输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框输入框框</label>
									<label class="layui-form-label">答案：</label>
									<div class="layui-input-block">
										<textarea name="desc" class="layui-textarea" placeholder="请输入内容"></textarea>
									</div>
								</div>

								<div class="layui-form-item">
									<div class="layui-input-block">
										<button class="layui-btn" type="submit" lay-filter="demo1" lay-submit="">立即提交</button>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>

	<script>
		layui.config({
		  base: '/layuires/static/js/'
		}).use('blog');
		layui.use('layer',function () {
			var layer=layui.layer;
		})
	</script>
</body>

<script>
	$(function () {
		$.ajax({
			type: 'GET'
			, url: '/studentexam/getSid'
			, data: {}
			, success: function (res) {
				if (res === 'error') {
					layer.alert('考生当前未登录，请先进行登录', {icon: 5});
					window.location.href = '/studentexam/tologin';
				} else {
					document.getElementById("sname").innerText=res.sname;
					document.getElementById("saccount").innerText=res.saccount;
				}
			}
			, error:function () {
				layer.msg('连接服务器超时，请及时通知老师管理员',{icon:6})
			}
		});
	});

	layui.use(['layer','form'],function () {
        var layer=layui.layer,
            form=layui.form;
		form.verify({
			title: function(value){
				var v=value.trim();
				if(v.length ===0){
					return '有填空或简单未完成';
				}
			}
		});

		//监听提交
		form.on('submit(demo1)', function(data){
			if (!validate_all()) {
				return false;
			}
		});
	});

	function validate_all(){
		var count=0;
		var radioName = new Array();
		$(":radio").each(function(){
			radioName.push($(this).attr("name"));
		});
		$(":checkbox").each(function(){
			radioName.push($(this).attr("name"));
		});
		radioName.sort();
		$.unique(radioName);
		$.each(radioName,function(i,val){
			if (!checkRadio(val)) {
				count++;
			}
		});
		if (count>0) {
			layer.alert("您还有未选择项，请选择，谢谢~",{icon:5});
			return false;
		} else {
			return true;
		}
	}
	function checkRadio(radioName){
		return $("input[name="+radioName+"]:checked").val() == null ? false : true;
	}

</script>

</html>